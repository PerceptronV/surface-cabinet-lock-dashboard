<!DOCTYPE html>
<html lang="en">

<head>
  <title>Login | Surface Cabinet Lock Online Control Portal</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" 
    integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" 
    integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <link href="../stylesheets/global.css" rel="stylesheet">
  <link href="../stylesheets/login.css" rel="stylesheet">
  <meta name="viewport" content="width=device-width, initial-scale=1">
</head>

<body>
  <div id="welcome">
    <h1 id="apploc" class="display-3">Login</h1>
    <h1 id="appname">Surface Cabinet Lock Online Control</h1>
  </div>

  <div id="firebase-auth-container">
    <div class="text-start mb-3">
      <label for="username" class="form-label" id="username_label">Username</label>
      <div class="input-group">
        <input type="text" class="form-control" placeholder="Username" aria-label="Recipient's username"
          aria-describedby="basic-addon2" id="username">
        <!--<span class="input-group-text" id="basic-addon2" id="at-span">@</span>
        <input type="text" class="form-control" placeholder="Domain" aria-label="Recipient's domain"
          aria-describedby="basic-addon2" value="solos-mg.firebaseapp.com" id="domain">-->
      </div>
    </div>

    <div class="text-start mb-3">
      <label for="password" class="form-label" id="password_label">Password</label>
      <input type="password" class="form-control" id="password">
      <div class="form-check form-switch" id="pass">
        <label class="form-check-label" for="show-password" id="show-password_label">Show password</label>
        <input class="form-check-input" type="checkbox" id="show-password">
      </div>
    </div>

    <p class="fw-bold" id="warning"></p>

    <div id="button_container">
      <button type="button" class="btn btn-outline-secondary" id="sign-in-button" onclick="sign_in()">Sign In</button>
    </div>
  </div>

  <div id="footer" class="display-3">
    Copyright (c) 2022 YIDING SONG
  </div>

  <script src="control.js"></script>
  <script src="../lib/firebase-9.0.0-compat/app.js"></script>
  <script src="../lib/firebase-9.0.0-compat/auth.js"></script>
  
  <script>
    const firebaseConfig = {
      apiKey: "AIzaSyAwmf9vIzXsip3W8uRc3d4pyVeoBNyPW_k",
      authDomain: "solos-mg.firebaseapp.com",
      databaseURL: "https://solos-mg-default-rtdb.europe-west1.firebasedatabase.app",
      projectId: "solos-mg",
      storageBucket: "solos-mg.appspot.com",
      messagingSenderId: "606372218503",
      appId: "1:606372218503:web:81937bcbd44d93bb615a22"
    };

    const firebaseApp = firebase.initializeApp(firebaseConfig);

    firebase.auth().onAuthStateChanged((user) => {
      if (user) {
        // User is signed in, see docs for a list of available properties
        // https://firebase.google.com/docs/reference/js/firebase.User

        window.location.href = "../index.html";
      } else {
        // User is signed out
        // ...
      }
    });
  </script>
</body>

</html>
